{"swagger":"2.0","info":{"description":"Central control point for all MDM tooling","version":"1.0.0","title":"MDM-Core","contact":{"email":"gsingh@ca.ibm.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"tags":[{"name":"Services","description":"Manage individual services"},{"name":"Runs","description":"Manage individual runs"},{"name":"User Interface","description":"Interactions relavent to the user interface"},{"name":"Tooling","description":"Interactions relavent to the internal tooling"}],"paths":{"/services":{"get":{"tags":["Services","User Interface"],"summary":"Returns a list of services and their status","operationId":"getService","description":"Returns all the mapped services in Core and if they are running/blocked/standby","responses":{"200":{"description":"Able to fetch all services without issue","schema":{"$ref":"#/definitions/ServiceMap"}}}}},"/services/register":{"post":{"tags":["Services","Tooling"],"summary":"Registers a new service with the Core","operationId":"register","description":"Stores the details of a new service and allows access to it","consumes":["application/json"],"parameters":[{"in":"body","name":"Service","description":"All variables required to setup a service","required":true,"schema":{"$ref":"#/definitions/Service"}}],"responses":{"200":{"description":"Core registered the new service successfully"}}}},"/run/fetch/{id}":{"get":{"tags":["Runs","Tooling"],"summary":"Returns the property map of a specific run id","operationId":"fetch","description":"Allows for dynamic retrival of properties required by each tool. By specifying a runid in this GET request, the tool will get back all the properties it requires to run","produces":["application/json"],"parameters":[{"in":"path","name":"id","description":"the id of the run retrieved by the create endpoint","required":true,"type":"integer"}],"responses":{"201":{"description":"property returned","schema":{"$ref":"#/definitions/PropertyMap"}},"400":{"description":"invalid input, object invalid"},"409":{"description":"failed to fetch property"}}}},"/run/create/{service}":{"post":{"tags":["Runs","User Interface"],"summary":"Creates a run for the specified tool with the provided properties","operationId":"create","description":"Defines a new run with the provided properties map in the system and queues it up to be sent to  to the specified tool when it becomes available","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"service","description":"The name of the service you wish to run","required":true,"type":"string"},{"in":"body","name":"properties","description":"The properties for this run","required":true,"schema":{"$ref":"#/definitions/PropertyMap"}}],"responses":{"201":{"description":"Run successfully created"},"400":{"description":"invalid input, object invalid"},"409":{"description":"failed to initiate run properly"}}}},"/run/finish/{id}":{"post":{"tags":["Runs","Tooling"],"summary":"Submits the results for a specific run and marks it as finished","operationId":"finish","description":"Ends a run and indicates if it failed or succeeded. Provides a results JSON to represent any outputs from the tool","consumes":["application/json"],"parameters":[{"in":"path","name":"id","description":"The id of the run you want to end","required":true,"type":"integer"},{"in":"body","name":"results","description":"The results produced by this run","required":true,"schema":{"$ref":"#/definitions/Results"}}],"responses":{"201":{"description":"Run information successfully submitted"},"400":{"description":"invalid input, object invalid"},"409":{"description":"failed to submit run properly"}}}}},"definitions":{"ServiceMap":{"type":"object","additionalProperties":{"$ref":"#/definitions/Service"}},"Service":{"type":"object","required":["name","URL","version","properties"],"properties":{"name":{"type":"string","example":"PTEF"},"URL":{"type":"string","example":"PTEF.w3ibm.bluemix.com"},"version":{"type":"string","example":"5.0.2"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/PropertyList"}}}},"PropertyList":{"type":"object","required":["proplist"],"properties":{"proplist":{"type":"array","items":{"type":"string"},"example":"mdm version, host url, db url, schema name"}}},"PropertyMap":{"type":"object","additionalProperties":{"$ref":"#/definitions/MapItem"}},"MapItem":{"properties":{"key":{"type":"string"},"value":{"type":"string"}}},"Results":{"type":"object","additionalProperties":{"$ref":"#/definitions/MapItem"}}},"host":"virtserver.swaggerhub.com","basePath":"/Guppster/Core/1.0.0","schemes":["https"]}